#!/usr/bin/env bash

# Bootstrap a new Mac

set -e

# Symlink config files
# Do this first in to simplify updating this configuration.
ln gitconfig ~/.gitconfig
ln gitignore ~/.gitignore
ln editorconfig ~/.editorconfig
ln vimrc ~/.vimrc
ln -s "`pwd`/git_hooks" ~/.git_hooks

# Configure ZSH
## Install zprezto
git clone --recursive https://github.com/sorin-ionescu/prezto.git ~/.zprezto
ln zpreztorc ~/.zpreztorc
ln zshenv ~/.zshenv
ln zshrc ~/.zshrc
ln -s "`pwd`/zsh" ~/.zsh

# Install homebrew (also install xcode tools)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew doctor

brew install gh

# Install VSCode and extensions
brew cask install visual-studio-code
code --install-extension vscodevim.vim

# Install homebrew cask for Mac apps
brew install --cask dropbox google-chrome visual-studio-code

# Create a lab directory
mkdir -p ~/Lab